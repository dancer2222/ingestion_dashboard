!function(s){"use strict";var o,e=function(i,o){this.options=o,this.$sidebar=s(i),this.$content=this.$sidebar.find("~ .content-wrap"),this.$nano=this.$sidebar.find(".nano"),this.$html=s("html"),this.$body=s("body"),this.$window=s(window),this.changed=!1,this.init()};e.DEFAULTS={duration:300,resizeWnd:1e3},e.prototype.init=function(){var o=this;o.$body.addClass("sidebar-notransition"),o.$nano.nanoScroller({preventPageScrolling:!0}),s(".sidebar-toggle").on("click",function(i){i.preventDefault(),o.togglesidebar()}),o.$content.on("click",function(){o.isHideOnContentClick()&&o.hidesidebar()}),o.$sidebar.on("click","li a.sidebar-sub-toggle",function(i){i.preventDefault(),o.toggleSub(s(this))}),"push"==o.showType()&&o.isShow()&&o.$body.css("overflow","hidden"),o.$sidebar.hasClass("sidebar-gestures")&&o.useGestures(),o.$window.on("resize",function(){o.windowResize()}),o.windowResize(),setTimeout(function(){o.$body.removeClass("sidebar-notransition")},1)},e.prototype.isShow=function(){return!this.$body.hasClass("sidebar-hide")},e.prototype.showType=function(){return this.$sidebar.hasClass("sidebar-overlay")?"overlay":this.$sidebar.hasClass("sidebar-push")?"push":this.$sidebar.hasClass("sidebar-shrink")?"shrink":void 0},e.prototype.isHideOnContentClick=function(){return this.$sidebar.hasClass("sidebar-overlap-content")},e.prototype.isStatic=function(){return this.$sidebar.hasClass("sidebar-static")},e.prototype.togglesidebar=function(i){var o=this,s=!o.isShow();i&&("show"==i&&!s||"hide"==i&&s)||(o.options.changed=!0,s?o.showsidebar():o.hidesidebar())},e.prototype.showsidebar=function(){var i=this;i.$body.removeClass("sidebar-hide"),"push"==i.showType()&&i.$body.css("overflow","hidden"),setTimeout(function(){i.$nano.nanoScroller(),i.$window.resize()},i.options.duration)},e.prototype.hidesidebar=function(){var i=this;i.$body.addClass("sidebar-hide"),i.$nano.nanoScroller({destroy:!0}),setTimeout(function(){"push"==i.showType()&&i.$body.css("overflow","visible"),i.$window.resize()},i.options.duration)},e.prototype.toggleSub=function(i){var o=i.parent(),s=o.find("> ul"),e=o.hasClass("open");s.length&&(e?this.closeSub(s):this.openSub(s,o))},e.prototype.closeSub=function(i){var o=this;i.css("display","block").stop().slideUp(o.options.duration,"swing",function(){s(this).find("li a.sidebar-sub-toggle").next().attr("style",""),o.$nano.nanoScroller()}),i.parent().removeClass("open"),i.find("li a.sidebar-sub-toggle").parent().removeClass("open")},e.prototype.openSub=function(i,o){var s=this;i.css("display","none").stop().slideDown(s.options.duration,"swing",function(){s.$nano.nanoScroller()}),o.addClass("open"),s.closeSub(o.siblings(".open").find("> ul"))},e.prototype.useGestures=function(){var e=this,n=0,t=0,a=0;e.$window.on("touchstart",function(i){t=(i.originalEvent.touches?i.originalEvent.touches[0]:i).pageX,a=(i.originalEvent.touches?i.originalEvent.touches[0]:i).pageX,n=1}),e.$window.on("touchmove",function(i){n&&(a=(i.originalEvent.touches?i.originalEvent.touches[0]:i).pageX)}),e.$window.on("touchend",function(i){if(n){var o=t-a,s=e.$html.hasClass("rtl");if(n=0,Math.abs(o)<100)return;s&&(o*=-1,t=e.$window.width()-t),o<0?t<40&&e.showsidebar():e.hidesidebar()}})},e.prototype.windowResize=function(){var i=this;i.options.changed||(clearTimeout(o),o=setTimeout(function(){i.$window.width()<i.options.resizeWnd&&i.togglesidebar("hide")},50))},s(".sidebar").each(function(){var i=s.extend({},e.DEFAULTS,s(this).data(),"object"==typeof option&&option);new e(this,i)})}(jQuery);