!function(){var O=window.AmCharts;O.AmStockChart=O.Class({construct:function(t){this.type="stock",this.cname="AmStockChart",O.addChart(this),this.version="3.21.2",this.theme=t,this.createEvents("buildStarted","zoomed","rollOverStockEvent","rollOutStockEvent","clickStockEvent","panelRemoved","dataUpdated","init","rendered","drawn","resized"),this.colors="#FF6600 #FCD202 #B0DE09 #0D8ECF #2A0CD0 #CD0D74 #CC0000 #00CC00 #0000CC #DDDDDD #999999 #333333 #990000".split(" "),this.firstDayOfWeek=1,this.glueToTheEnd=!1,this.dataSetCounter=-1,this.zoomOutOnDataSetChange=!1,this.panels=[],this.dataSets=[],this.chartCursors=[],this.comparedDataSets=[],this.classNamePrefix="amcharts",this.categoryAxesSettings=new O.CategoryAxesSettings(t),this.valueAxesSettings=new O.ValueAxesSettings(t),this.panelsSettings=new O.PanelsSettings(t),this.chartScrollbarSettings=new O.ChartScrollbarSettings(t),this.chartCursorSettings=new O.ChartCursorSettings(t),this.stockEventsSettings=new O.StockEventsSettings(t),this.legendSettings=new O.LegendSettings(t),this.balloon=new O.AmBalloon(t),this.previousEndDate=new Date(0),this.previousStartDate=new Date(0),this.dataSetCount=this.graphCount=0,this.chartCreated=!1,this.processTimeout=0,this.autoResize=this.extendToFullPeriod=!0,this.langObj={},O.applyTheme(this,t,this.cname)},write:function(t){var e=this;if(e.listeners)for(var a in e.listeners){var i=e.listeners[a];e.addListener(i.event,i.method)}e.fire({type:"buildStarted",chart:e}),e.afterWriteTO&&clearTimeout(e.afterWriteTO),0<e.processTimeout?e.afterWriteTO=setTimeout(function(){e.afterWrite.call(e,t)},e.processTimeout):e.afterWrite(t)},afterWrite:function(t){var e=this.theme;window.AmCharts_path&&(this.path=window.AmCharts_path),void 0===this.path&&(this.path=O.getPath()),void 0===this.path&&(this.path="amcharts/"),this.path=O.normalizeUrl(this.path),void 0===this.pathToImages&&(this.pathToImages=this.path+"images/"),this.initHC||(O.callInitHandler(this),this.initHC=!0),O.applyLang(this.language,this),this.chartCursors=[];var a=this.exportConfig;a&&O.AmExport&&!this.AmExport&&(this.AmExport=new O.AmExport(this,a)),this.amExport&&O.AmExport&&(this.AmExport=O.extend(this.amExport,new O.AmExport(this),!0)),this.AmExport&&this.AmExport.init(),this.chartRendered=!1,t="object"!=typeof t?document.getElementById(t):t,this.zoomOutOnDataSetChange&&(this.endDate=this.startDate=void 0),this.categoryAxesSettings=O.processObject(this.categoryAxesSettings,O.CategoryAxesSettings,e),this.valueAxesSettings=O.processObject(this.valueAxesSettings,O.ValueAxesSettings,e),this.chartCursorSettings=O.processObject(this.chartCursorSettings,O.ChartCursorSettings,e),this.chartScrollbarSettings=O.processObject(this.chartScrollbarSettings,O.ChartScrollbarSettings,e),this.legendSettings=O.processObject(this.legendSettings,O.LegendSettings,e),this.panelsSettings=O.processObject(this.panelsSettings,O.PanelsSettings,e),this.stockEventsSettings=O.processObject(this.stockEventsSettings,O.StockEventsSettings,e),this.dataSetSelector&&(this.dataSetSelector=O.processObject(this.dataSetSelector,O.DataSetSelector,e)),this.periodSelector&&(this.periodSelector=O.processObject(this.periodSelector,O.PeriodSelector,e)),t.innerHTML="",this.div=t,this.measure(),this.createLayout(),this.updateDataSets(),this.addDataSetSelector(),this.addPeriodSelector(),this.addPanels(),this.updatePanels(),this.addChartScrollbar(),this.updateData(),this.skipDefault||this.setDefaultPeriod(),this.skipEvents=!1},setDefaultPeriod:function(){var t=this.periodSelector;t&&(this.animationPlayed=!1,t.setDefaultPeriod())},validateSize:function(){this.measurePanels()},updateDataSets:function(){var t,e=this.mainDataSet,a=this.dataSets;for(t=0;t<a.length;t++){var i=a[t];i=O.processObject(i,O.DataSet);(a[t]=i).id||(this.dataSetCount++,i.id="ds"+this.dataSetCount),void 0===i.color&&(i.color=this.colors.length-1>t?this.colors[t]:O.randomColor())}!e&&O.ifArray(a)&&(this.mainDataSet=this.dataSets[0]),this.getSelections()},getLastDate:function(t){var e=O.getDate(t,this.dataDateFormat,"fff");t=this.categoryAxesSettings.minPeriod;var a=O.extractPeriod(t);e=O.changeDate(e,a.period,1*a.count,!0).getTime();return-1==t.indexOf("fff")&&--e,new Date(e)},getFirstDate:function(t){t=O.getDate(t,this.dataDateFormat,"fff");var e=O.extractPeriod(this.categoryAxesSettings.minPeriod);return new Date(O.resetDateToMin(t,e.period,1*e.count,this.firstDayOfWeek))},updateData:function(){var t=this,e=t.mainDataSet;if(e){t.parsingData=!1;var a=t.categoryAxesSettings;-1==O.getItemIndex(a.minPeriod,a.groupToPeriods)&&a.groupToPeriods.unshift(a.minPeriod);var i=e.dataProvider;if(O.ifArray(i)){var s=e.categoryField;t.firstDate=t.getFirstDate(i[0][s]),t.lastDate=t.getLastDate(i[i.length-1][s]),t.periodSelector&&t.periodSelector.setRanges(t.firstDate,t.lastDate),e.dataParsed||(t.parsingData=!0,0<t.processTimeout?setTimeout(function(){t.parseStockData.call(t,e,a.minPeriod,a.groupToPeriods,t.firstDayOfWeek,t.dataDateFormat)},t.processTimeout):t.parseStockData(e,a.minPeriod,a.groupToPeriods,t.firstDayOfWeek,t.dataDateFormat)),this.updateComparingData()}else t.firstDate=void 0,t.lastDate=void 0;t.fixGlue(),t.parsingData||t.onDataUpdated()}},fixGlue:function(){if(this.glueToTheEnd&&this.startDate&&this.endDate&&this.lastDate){this.startDate=new Date(this.startDate.getTime()+(this.lastDate.getTime()-this.endDate.getTime())+1);var t=O.extractPeriod(this.categoryAxesSettings.minPeriod);this.startDate=O.resetDateToMin(this.startDate,t.period,t.count,this.firstDayOfWeek),this.endDate=this.lastDate,this.updateScrollbar=!0}},isDataParsed:function(){if(this.mainDataSet){for(var t=!0,e=0;e<this.comparedDataSets.length;e++)this.comparedDataSets[e].dataParsed||(t=!1);if(this.mainDataSet.dataParsed&&t)return!0}return!1},onDataUpdated:function(){this.isDataParsed()&&(this.updatePanelsWithNewData(),this.skipEvents||this.fire({type:"dataUpdated",chart:this}))},updateComparingData:function(){var t,e=this.comparedDataSets,a=this.categoryAxesSettings;for(t=0;t<e.length;t++){var i=e[t];i.dataParsed||(this.parsingData=!0,0<this.processTimeout?this.delayedParseStockData(t,i):this.parseStockData(i,a.minPeriod,a.groupToPeriods,this.firstDayOfWeek,this.dataDateFormat))}},delayedParseStockData:function(t,e){var a=this,i=a.categoryAxesSettings;setTimeout(function(){a.parseStockData.call(a,e,i.minPeriod,i.groupToPeriods,a.firstDayOfWeek,a.dataDateFormat)},a.processTimeout*t)},parseStockData:function(t,e,a,i,s){var r=this,o={},n=t.dataProvider,h=t.categoryField;if(h){var l,d,c=O.getItemIndex(e,a),p=a.length,u=n.length,g={};for(l=c;l<p;l++)o[d=a[l]]=[];var m={},v=t.fieldMappings,f=v.length;for(l=0;l<u;l++){var C,S=n[l],D=O.getDate(S[h],s,e),b=D.getTime(),w={};for(C=0;C<f;C++)w[v[C].toField]=S[v[C].fromField];for(C=c;C<p;C++){d=a[C];var y,T,x=O.extractPeriod(d),P=x.period,k=x.count;if(C==c||b>=g[d]||!g[d]){var A;for(m[d]={},m[d].amCategoryIdField=String(O.resetDateToMin(D,P,k,i).getTime()),A=0;A<f;A++)x=v[A].toField,y=m[d],null!==w[x]&&(T=Number(w[x]),y[x+"Count"]=0,isNaN(T)||(y[x+"Open"]=T,y[x+"Sum"]=T,y[x+"High"]=T,y[x+"AbsHigh"]=T,y[x+"Low"]=T,y[x+"Close"]=T,y[x+"Count"]=1,y[x+"Average"]=T));if(y.dataContext=S,y.rawData=[],y.rawData.push(S),o[d].push(m[d]),c<C&&(x=O.newDate(D,e),x=O.changeDate(x,P,k,!0),x=O.resetDateToMin(x,P,k,i),g[d]=x.getTime()),C==c)for(var E in S)S.hasOwnProperty(E)&&(m[d][E]=S[E]);m[d][h]=O.newDate(D,e)}else for((y=m[d]).rawData&&y.rawData.push(S),d=0;d<f;d++)x=v[d].toField,l==u-1&&(y[h]=O.newDate(D,e)),null!==w[x]&&(T=Number(w[x]),isNaN(T)||(isNaN(y[x+"Low"])&&(y[x+"Low"]=T),T<y[x+"Low"]&&(y[x+"Low"]=T),isNaN(y[x+"High"])&&(y[x+"High"]=T),T>y[x+"High"]&&(y[x+"High"]=T),isNaN(y[x+"AbsHigh"])&&(y[x+"AbsHigh"]=T),Math.abs(T)>y[x+"AbsHigh"]&&(y[x+"AbsHigh"]=T),y[x+"Close"]=T,P=O.getDecimals(y[x+"Sum"]),k=O.getDecimals(T),isNaN(y[x+"Sum"])&&(y[x+"Sum"]=0),y[x+"Sum"]+=T,y[x+"Sum"]=O.roundTo(y[x+"Sum"],Math.max(P,k)),y[x+"Count"]++,y[x+"Average"]=y[x+"Sum"]/y[x+"Count"]))}}}t.agregatedDataProviders=o,O.ifArray(t.stockEvents)?0<r.processTimeout?setTimeout(function(){r.parseEvents.call(r,t,r.panels,r.stockEventsSettings,r.firstDayOfWeek,r,r.dataDateFormat)},r.processTimeout):r.parseEvents(t,r.panels,r.stockEventsSettings,r.firstDayOfWeek,r,r.dataDateFormat):(t.dataParsed=!0,r.onDataUpdated())},parseEvents:function(t,e,a,i,s,r){i=t.stockEvents;var o,n,h,l,d,c,p=t.agregatedDataProviders,u=e.length;for(o=0;o<u;o++){for(h=(d=(c=e[o]).graphs).length,n=0;n<h;n++)(l=d[n]).customBulletField="amCustomBullet"+l.id+"_"+c.id,l.bulletConfigField="amCustomBulletConfig"+l.id+"_"+c.id,l.chart=c;for(n=0;n<i.length;n++)l=(h=i[n]).graph,O.isString(l)&&(l=O.getObjById(d,l))&&(h.graph=l),l&&(h.panel=l.chart)}for(var g in p)if(p.hasOwnProperty(g))for(e=p[g],u=O.extractPeriod(g),o=e.length,n=0;n<i.length;n++){l=(h=i[n]).date instanceof Date,r&&!l&&(h.date=O.stringToDate(h.date,r)),l=h.date.getTime();var m=this.getEventDataItem(l,e,t,0,o,u);m&&(l=h.graph,c=h.panel,l&&(d="amCustomBullet"+l.id+"_"+c.id,m[l="amCustomBulletConfig"+l.id+"_"+c.id]?c=m[l]:((c={}).eventDispatcher=s,c.eventObjects=[],c.letters=[],c.descriptions=[],c.shapes=[],c.backgroundColors=[],c.backgroundAlphas=[],c.borderColors=[],c.borderAlphas=[],c.colors=[],c.rollOverColors=[],c.showOnAxis=[],c.values=[],c.showAts=[],c.fontSizes=[],c.showBullets=[],m[d]=O.StackedBullet,m[l]=c),c.eventObjects.push(h),c.letters.push(h.text),c.descriptions.push(h.description),h.type?c.shapes.push(h.type):c.shapes.push(a.type),void 0!==h.backgroundColor?c.backgroundColors.push(h.backgroundColor):c.backgroundColors.push(a.backgroundColor),isNaN(h.backgroundAlpha)?c.backgroundAlphas.push(a.backgroundAlpha):c.backgroundAlphas.push(h.backgroundAlpha),isNaN(h.borderAlpha)?c.borderAlphas.push(a.borderAlpha):c.borderAlphas.push(h.borderAlpha),void 0!==h.borderColor?c.borderColors.push(h.borderColor):c.borderColors.push(a.borderColor),void 0!==h.rollOverColor?c.rollOverColors.push(h.rollOverColor):c.rollOverColors.push(a.rollOverColor),void 0!==h.showAt?c.showAts.push(h.showAt):c.showAts.push(a.showAt),void 0!==h.fontSize&&c.fontSizes.push(h.fontSize),c.colors.push(h.color),c.values.push(h.value),c.showOnAxis.push(h.showOnAxis),c.showBullets.push(h.showBullet),c.date=new Date(h.date)))}t.dataParsed=!0,this.onDataUpdated()},getEventDataItem:function(t,e,a,i,s,r){var o=r.period,n=r.count,h=Math.floor(i+(s-i)/2),l=e[h],d=l[a.categoryField],c=this.dataDateFormat,p=d instanceof Date;return c&&!p&&(d=O.stringToDate(d,c)),c=d.getTime(),"YYYY"==o&&(c=O.resetDateToMin(new Date(d),o,n,this.firstDayOfWeek).getTime()),o="fff"==o?d.getTime()+1:O.resetDateToMin(O.changeDate(new Date(d),r.period,r.count),o,n,this.firstDayOfWeek).getTime(),c<=t&&t<o?l:s-i<=1?void 0:t<c?this.getEventDataItem(t,e,a,i,h,r):this.getEventDataItem(t,e,a,h,s,r)},createLayout:function(){var t,e,a=this.div,i=this.classNamePrefix,s=document.createElement("div");s.style.position="relative",(this.containerDiv=s).className=i+"-stock-div",a.appendChild(s),(a=this.periodSelector)&&(t=a.position),(a=this.dataSetSelector)&&(e=a.position),"left"!=t&&"left"!=e||((a=document.createElement("div")).className=i+"-left-div",a.style.cssFloat="left",a.style.styleFloat="left",a.style.width="0px",a.style.position="absolute",s.appendChild(a),this.leftContainer=a),"right"!=t&&"right"!=e||((t=document.createElement("div")).className=i+"-right-div",t.style.cssFloat="right",t.style.styleFloat="right",t.style.width="0px",s.appendChild(t),this.rightContainer=t),(t=document.createElement("div")).className=i+"-center-div",s.appendChild(t),this.centerContainer=t,(s=document.createElement("div")).className=i+"-panels-div",t.appendChild(s),this.panelsContainer=s},addPanels:function(){this.measurePanels(!0);for(var t=this.panels,e=0;e<t.length;e++){var a=t[e];a=O.processObject(a,O.StockPanel,this.theme,!0);t[e]=a,this.addStockPanel(a,e)}this.panelsAdded=!0},measurePanels:function(t){this.measure();var e=this.chartScrollbarSettings,a=this.divRealHeight,i=this.divRealWidth;if(this.div){var s=this.panelsSettings.panelSpacing;if(e.enabled&&(a-=e.height),(e=this.periodSelector)&&!e.vertical&&(a-=(e=e.offsetHeight)+s),(e=this.dataSetSelector)&&!e.vertical&&(a-=(e=e.offsetHeight)+s),t||a==this.prevPH&&this.prevPW==i||this.fire({type:"resized",chart:this}),this.prevPW!=i&&(this.prevPW=i),a!=this.prevPH){t=this.panels,0<a&&(this.panelsContainer.style.height=a+"px");var r;for(i=0,e=0;e<t.length;e++)if(r=t[e]){var o=r.percentHeight;isNaN(o)&&(o=100/t.length,r.percentHeight=o),i+=o}for(this.panelsHeight=Math.max(a-s*(t.length-1),0),e=0;e<t.length;e++)(r=t[e])&&(r.percentHeight=r.percentHeight/i*100,r.panelBox&&(r.panelBox.style.height=Math.round(r.percentHeight*this.panelsHeight/100)+"px"));this.prevPH=a}}},addStockPanel:function(t,e){var a=this.panelsSettings,i=document.createElement("div");0<e&&!this.panels[e-1].showCategoryAxis&&(i.style.marginTop=a.panelSpacing+"px"),t.hideBalloonReal(),t.panelBox=i,t.stockChart=this,t.langObj=this.langObj,t.id||(t.id="stockPanel"+e),i.className="amChartsPanel "+this.classNamePrefix+"-stock-panel-div "+this.classNamePrefix+"-stock-panel-div-"+t.id,t.pathToImages=this.pathToImages,t.path=this.path,i.style.height=Math.round(t.percentHeight*this.panelsHeight/100)+"px",i.style.width="100%",this.panelsContainer.appendChild(i),0<a.backgroundAlpha&&(i.style.backgroundColor=a.backgroundColor),(i=t.stockLegend)&&((i=O.processObject(i,O.StockLegend,this.theme)).container=void 0,i.title=t.title,i.marginLeft=a.marginLeft,i.marginRight=a.marginRight,i.verticalGap=3,i.position="top",O.copyProperties(this.legendSettings,i),t.addLegend(i,i.divId)),t.zoomOutText="",this.addCursor(t)},enableCursors:function(t){var e,a=this.chartCursors;for(e=0;e<a.length;e++)a[e].enabled=t},updatePanels:function(){var t,e=this.panels;for(t=0;t<e.length;t++)this.updatePanel(e[t]);this.mainDataSet&&this.updateGraphs(),this.currentPeriod=void 0},updatePanel:function(t){t.seriesIdField="amCategoryIdField",t.dataProvider=[],t.chartData=[],t.graphs=[];var e=t.categoryAxis,a=this.categoryAxesSettings;O.copyProperties(this.panelsSettings,t),O.copyProperties(a,e),e.parseDates=!0,t.addClassNames=this.addClassNames,t.classNamePrefix=this.classNamePrefix,t.zoomOutOnDataUpdate=!1,void 0!==this.mouseWheelScrollEnabled&&(t.mouseWheelScrollEnabled=this.mouseWheelScrollEnabled),void 0!==this.mouseWheelZoomEnabled&&(t.mouseWheelZoomEnabled=this.mouseWheelZoomEnabled),t.dataDateFormat=this.dataDateFormat,t.language=this.language,t.showCategoryAxis?"top"==e.position?t.marginTop=a.axisHeight:t.marginBottom=a.axisHeight:(t.categoryAxis.labelsEnabled=!1,t.chartCursor&&(t.chartCursor.categoryBalloonEnabled=!1));var i,s=(a=t.valueAxes).length;for(0===s&&(i=new O.ValueAxis(this.theme),t.addValueAxis(i)),e=new O.AmBalloon(this.theme),O.copyProperties(this.balloon,e),t.balloon=e,s=(a=t.valueAxes).length,e=0;e<s;e++)i=a[e],O.copyProperties(this.valueAxesSettings,i);t.listenersAdded=!1,t.write(t.panelBox)},zoom:function(t,e){this.zoomChart(t,e)},zoomOut:function(){this.zoomChart(this.firstDate,this.lastDate)},updatePanelsWithNewData:function(){var t=this.mainDataSet,e=this.scrollbarChart;if(this.updateGraphs(),t){var a,i=this.panels;for(this.currentPeriod=void 0,a=0;a<i.length;a++){var s=i[a];s.categoryField=t.categoryField,0===t.dataProvider.length&&(s.dataProvider=[]),s.scrollbarChart=e}if(e){if(a=(i=this.categoryAxesSettings).minPeriod,e.categoryField=t.categoryField,s=e.dataProvider,0<t.dataProvider.length){var r=this.chartScrollbarSettings.usePeriod;if(r){var o=t.agregatedDataProviders[a],n=t.categoryField,h=this.getFirstDate(o[0][n]).getTime();this.getLastDate(o[o.length-1][n]).getTime()-h<O.getPeriodDuration(r)&&(r=a),e.dataProvider=t.agregatedDataProviders[r]}else e.dataProvider=t.agregatedDataProviders[a]}else e.dataProvider=[];(r=e.categoryAxis).minPeriod=a,r.firstDayOfWeek=this.firstDayOfWeek,r.equalSpacing=i.equalSpacing,r.axisAlpha=0,r.markPeriodChange=i.markPeriodChange,e.bbsetr=!0,s!=e.dataProvider&&e.validateData(),i=this.panelsSettings,e.maxSelectedTime=i.maxSelectedTime,e.minSelectedTime=i.minSelectedTime}0<t.dataProvider.length&&(this.fixGlue(),this.zoomChart(this.startDate,this.endDate))}this.panelDataInvalidated=!1},addChartScrollbar:function(){var t=this.chartScrollbarSettings;if((e=this.scrollbarChart)&&(e.clear(),e.destroy()),t.enabled){var e,a=this.panelsSettings,i=this.categoryAxesSettings;(e=new O.AmSerialChart(this.theme)).svgIcons=a.svgIcons,e.language=this.language,e.pathToImages=this.pathToImages,e.autoMargins=!1,e.addClassNames=!0,(this.scrollbarChart=e).id="scrollbarChart",e.scrollbarOnly=!0,e.zoomOutText="",a.fontFamily&&(e.fontFamily=a.fontFamily),isNaN(a.fontSize)||(e.fontSize=a.fontSize),e.marginLeft=a.marginLeft,e.marginRight=a.marginRight,e.marginTop=0,e.marginBottom=0;a=i.dateFormats;var s,r=e.categoryAxis;if(r.boldPeriodBeginning=i.boldPeriodBeginning,a&&(r.dateFormats=i.dateFormats),r.labelsEnabled=!1,r.parseDates=!0,i=t.graph,O.isString(i)){for(a=this.panels,r=0;r<a.length;r++){var o=O.getObjById(a[r].stockGraphs,t.graph);o&&(i=o)}t.graph=i}i&&((s=new O.AmGraph(this.theme)).valueField=i.valueField,s.periodValue=i.periodValue,s.type=i.type,s.connect=i.connect,s.minDistance=t.minDistance,e.addGraph(s)),i=new O.ChartScrollbar(this.theme),e.addChartScrollbar(i),O.copyProperties(t,i),i.scrollbarHeight=t.height,i.graph=s,this.listenTo(i,"zoomed",this.handleScrollbarZoom),(s=document.createElement("div")).className=this.classNamePrefix+"-scrollbar-chart-div",s.style.height=t.height+"px",i=this.periodSelectorContainer,a=this.periodSelector,r=this.centerContainer,"bottom"==t.position?a&&"bottom"==a.position?r.insertBefore(s,i):r.appendChild(s):a&&"top"==a.position?r.insertBefore(s,i.nextSibling):r.insertBefore(s,r.firstChild),e.write(s)}},handleScrollbarZoom:function(t){if(this.skipScrollbarEvent)this.skipScrollbarEvent=!1;else{var e=t.endDate,a={};a.startDate=t.startDate,a.endDate=e,this.updateScrollbar=!1,this.handleZoom(a)}},addPeriodSelector:function(){var t=this.periodSelector;if(t){var e=this.categoryAxesSettings.minPeriod;t.minDuration=O.getPeriodDuration(e),t.minPeriod=e;var a,i=(t.chart=this).dataSetSelector;e=this.dssContainer;i&&(a=i.position);i=this.panelsSettings.panelSpacing;var s=document.createElement("div");this.periodSelectorContainer=s;var r=this.leftContainer,o=this.rightContainer,n=this.centerContainer,h=this.panelsContainer,l=t.width+2*i+"px";switch(t.position){case"left":r.style.width=t.width+"px",r.appendChild(s),n.style.paddingLeft=l;break;case"right":n.style.marginRight=l,o.appendChild(s),o.style.width=t.width+"px";break;case"top":h.style.clear="both",n.insertBefore(s,h),s.style.paddingBottom=i+"px",s.style.overflow="hidden";break;case"bottom":s.style.marginTop=i+"px","bottom"==a?n.insertBefore(s,e):n.appendChild(s)}this.listenTo(t,"changed",this.handlePeriodSelectorZoom),t.write(s)}},addDataSetSelector:function(){var t=this.dataSetSelector;if(t){t.chart=this,t.dataProvider=this.dataSets;var e=t.position,a=this.panelsSettings.panelSpacing,i=document.createElement("div");this.dssContainer=i;var s=this.leftContainer,r=this.rightContainer,o=this.centerContainer,n=this.panelsContainer;a=t.width+2*a+"px";switch(e){case"left":s.style.width=t.width+"px",s.appendChild(i),o.style.paddingLeft=a;break;case"right":o.style.marginRight=a,r.appendChild(i),r.style.width=t.width+"px";break;case"top":n.style.clear="both",o.insertBefore(i,n),i.style.overflow="hidden";break;case"bottom":o.appendChild(i)}t.write(i)}},handlePeriodSelectorZoom:function(t){var e=this.scrollbarChart;e&&(e.updateScrollbar=!0),t.predefinedPeriod?(this.predefinedStart=t.startDate,this.predefinedEnd=t.endDate):this.predefinedEnd=this.predefinedStart=null,this.zoomOutValueAxes(),this.zoomChart(t.startDate,t.endDate)},zoomOutValueAxes:function(){var t=this.panels;if(this.panelsSettings.zoomOutAxes)for(var e=0;e<t.length;e++){var a=t[e].valueAxes;if(a)for(var i=0;i<a.length;i++){var s=a[i];s.minZoom=NaN,s.maxZoom=NaN}}},addCursor:function(t){var e=this.chartCursorSettings;if(e.enabled){var a=new O.ChartCursor(this.theme);O.copyProperties(e,a);var i=e.categoryBalloonFunction;t.chartCursor&&(O.copyProperties(t.chartCursor,a),t.chartCursor.categoryBalloonFunction&&(i=t.chartCursor.categoryBalloonFunction)),a.categoryBalloonFunction=i,t.removeChartCursor(),t.addChartCursor(a),"mouse"==e.cursorPosition?this.listenTo(a,"moved",this.handleCursorChange):this.listenTo(a,"changed",this.handleCursorChange),this.listenTo(a,"onHideCursor",this.handleCursorChange),this.listenTo(a,"zoomStarted",this.handleCursorChange),this.listenTo(a,"zoomed",this.handleCursorZoom),this.chartCursors.push(a)}},handleCursorChange:function(t){t=t.target;var e,a=this.chartCursors;for(e=0;e<a.length;e++){var i=a[e];i!=t&&i.syncWithCursor(t,this.chartCursorSettings.onePanelOnly)}},handleCursorZoom:function(t){(i=this.scrollbarChart)&&(i.updateScrollbar=!0);var e,a,i={};if(this.categoryAxesSettings.equalSpacing){a=this.mainDataSet.categoryField;var s=this.mainDataSet.agregatedDataProviders[this.currentPeriod];e=new Date(s[t.start][a]),a=new Date(s[t.end][a])}else e=new Date(t.start),a=new Date(t.end);i.startDate=e,i.endDate=a,this.handleZoom(i),this.handleCursorChange(t)},handleZoom:function(t){this.zoomChart(t.startDate,t.endDate)},zoomChart:function(t,e){var a=this;t||(t=a.firstDate);var i=O.newDate(t),s=a.firstDate,r=a.lastDate,o=a.currentPeriod,n=a.categoryAxesSettings,h=n.minPeriod,l=a.panelsSettings,d=a.periodSelector,c=a.panels,p=a.comparedGraphs,u=a.scrollbarChart,g=a.firstDayOfWeek;if(s&&r){if(t||(t=s),e||(e=r),o){var m=O.extractPeriod(o);t.getTime()==e.getTime()&&m!=h&&(e=O.changeDate(e,m.period,m.count)).setTime(e.getTime()-1)}t.getTime()<s.getTime()&&(t=s),t.getTime()>r.getTime()&&(t=r),e.getTime()<s.getTime()&&(e=s),e.getTime()>r.getTime()&&(e=r),h=O.getItemIndex(h,n.groupToPeriods),n=o,o=a.choosePeriod(h,t,e),a.currentPeriod=o;h=O.extractPeriod(o);var v=O.getPeriodDuration(h.period,h.count);for(e.getTime()-t.getTime()<1&&(t=new Date(e.getTime()-1)),m=O.newDate(t),a.extendToFullPeriod&&(m.getTime()-s.getTime()<.1*v&&(m=O.resetDateToMin(t,h.period,h.count,g)),r.getTime()-e.getTime()<.1*v&&(e=O.resetDateToMin(r,h.period,h.count,g),e=O.changeDate(e,h.period,h.count,!0))),s=0;s<c.length;s++)(r=c[s]).chartCursor&&r.chartCursor.panning&&(m=i);for(s=0;s<c.length;s++){if(r=c[s],i=!1,o!=n){for(i=0;i<p.length;i++)(v=p[i].graph).dataProvider=v.dataSet.agregatedDataProviders[o];(i=r.categoryAxis).firstDayOfWeek=g,i.minPeriod=o,r.dataProvider=a.mainDataSet.agregatedDataProviders[o],(i=r.chartCursor)&&(i.categoryBalloonDateFormat=a.chartCursorSettings.categoryBalloonDateFormat(h.period),r.showCategoryAxis||(i.categoryBalloonEnabled=!1)),r.startTime=m.getTime(),r.endTime=e.getTime(),r.start=NaN,r.validateData(!0),i=!0}r.chartCursor&&r.chartCursor.panning&&(i=!0),i||(r.startTime=void 0,r.endTime=void 0,r.zoomToDates(m,e)),0<l.startDuration&&a.animationPlayed&&!i?(r.startDuration=0,r.animateAgain()):0<l.startDuration&&!i&&r.animateAgain()}a.animationPlayed=!0,l=O.newDate(e),u&&a.updateScrollbar&&(u.zoomToDates(t,l),a.skipScrollbarEvent=!0,setTimeout(function(){a.resetSkip.call(a)},100)),a.updateScrollbar=!0,a.startDate=t,a.endDate=e,d&&d.zoom(t,e),a.skipEvents||t.getTime()==a.previousStartDate.getTime()&&e.getTime()==a.previousEndDate.getTime()||((d={type:"zoomed"}).startDate=t,d.endDate=e,d.chart=a,d.period=o,a.fire(d),a.previousStartDate=O.newDate(t),a.previousEndDate=O.newDate(e))}a.eventsHidden&&a.showHideEvents(!1),a.dispDUpd()},dispDUpd:function(){this.skipEvents||(this.chartCreated||(this.chartCreated=!0,this.fire({type:"init",chart:this})),this.chartRendered||(this.chartRendered=!0,this.fire({type:"rendered",chart:this})),this.fire({type:"drawn",chart:this})),this.animationPlayed=this.chartCreated=!0},resetSkip:function(){this.skipScrollbarEvent=!1},updateGraphs:function(){if(this.getSelections(),0<this.dataSets.length){var t,e=this.panels;for(this.comparedGraphs=[],t=0;t<e.length;t++){var a,i,s,r,o=e[t],n=o.valueAxes;for(a=0;a<n.length;a++){var h=n[a];h.prevLog&&(h.logarithmic=h.prevLog),h.recalculateToPercents="always"==o.recalculateToPercents}for(n=this.mainDataSet,a=this.comparedDataSets,h=o.stockGraphs,o.graphs=[],i=0;i<h.length;i++){var l=h[i];l=O.processObject(l,O.StockGraph,this.theme);(h[i]=l).title&&!l.resetTitleOnDataSetChange||(l.title=n.title,l.resetTitleOnDataSetChange=!0),l.useDataSetColors&&(l.lineColor=n.color,l.fillColors=void 0,l.bulletColor=void 0);var d=!1,c=n.fieldMappings;for(s=0;s<c.length;s++){r=c[s];var p=l.valueField;p&&r.toField==p&&(d=!0),(p=l.openField)&&r.toField==p&&(d=!0),(p=l.closeField)&&r.toField==p&&(d=!0),(p=l.lowField)&&r.toField==p&&(d=!0)}o.graphs.push(l),o.processGraphs(),l.hideFromLegend=!d,p=!1,"always"==o.recalculateToPercents&&(p=!0);var u,g,m,v,f=o.stockLegend;if(f&&(f=O.processObject(f,O.StockLegend,this.theme),u=(o.stockLegend=f).valueTextComparing,g=f.valueTextRegular,m=f.periodValueTextComparing,v=f.periodValueTextRegular),l.comparable){var C,S=a.length;if(l.valueAxis)for(0<S&&l.valueAxis.logarithmic&&"never"!=o.recalculateToPercents&&(l.valueAxis.logarithmic=!1,l.valueAxis.prevLog=!0),0<S&&"whenComparing"==o.recalculateToPercents&&(l.valueAxis.recalculateToPercents=!0),f&&l.valueAxis&&!0===l.valueAxis.recalculateToPercents&&(p=!0),C=0;C<S;C++){var D=a[C],b=l.comparedGraphs[D.id];b||((b=new O.AmGraph(this.theme)).id="comparedGraph_"+l.id+"_"+D.id),l.compareGraphType&&(b.type=l.compareGraphType),l.compareGraph&&O.copyProperties(l.compareGraph,b),b.periodValue=l.periodValue,b.recalculateValue=l.recalculateValue,b.dataSet=D,b.behindColumns=l.behindColumns,(l.comparedGraphs[D.id]=b).seriesIdField="amCategoryIdField",b.connect=l.connect,b.clustered=l.clustered,b.showBalloon=l.showBalloon,this.passFields(l,b);var w=l.compareField;for(w||(w=l.valueField),b.customBulletsHidden=!l.showEventsOnComparedGraphs,d=!1,c=D.fieldMappings,s=0;s<c.length;s++)(r=c[s]).toField==w&&(d=!0);d&&(b.valueField=w,b.title=D.title?D.title:l.title,b.lineColor=D.color,l.compareGraphLineColor&&(b.lineColor=l.compareGraphLineColor),s=l.compareGraphLineThickness,isNaN(s)||(b.lineThickness=s),s=l.compareGraphDashLength,isNaN(s)||(b.dashLength=s),s=l.compareGraphLineAlpha,isNaN(s)||(b.lineAlpha=s),s=l.compareGraphCornerRadiusTop,isNaN(s)||(b.cornerRadiusTop=s),s=l.compareGraphCornerRadiusBottom,isNaN(s)||(b.cornerRadiusBottom=s),s=l.compareGraphBalloonColor,isNaN(s)||(b.balloonColor=s),s=l.compareGraphBulletColor,isNaN(s)||(b.bulletColor=s),(s=l.compareGraphFillColors)&&(b.fillColors=s),(s=l.compareGraphNegativeFillColors)&&(b.negativeFillColors=s),(s=l.compareGraphFillAlphas)&&(b.fillAlphas=s),(s=l.compareGraphNegativeFillAlphas)&&(b.negativeFillAlphas=s),(s=l.compareGraphBullet)&&(b.bullet=s),(s=l.compareGraphNumberFormatter)&&(b.numberFormatter=s),s=l.compareGraphPrecision,isNaN(s)||(b.precision=s),(s=l.compareGraphBalloonText)&&(b.balloonText=s),s=l.compareGraphBulletSize,isNaN(s)||(b.bulletSize=s),s=l.compareGraphBulletAlpha,isNaN(s)||(b.bulletAlpha=s),s=l.compareGraphBulletBorderAlpha,isNaN(s)||(b.bulletBorderAlpha=s),(s=l.compareGraphBulletBorderColor)&&(b.bulletBorderColor=s),s=l.compareGraphBulletBorderThickness,isNaN(s)||(b.bulletBorderThickness=s),b.visibleInLegend=l.compareGraphVisibleInLegend,b.balloonFunction=l.compareGraphBalloonFunction,b.hideBulletsCount=l.hideBulletsCount,b.valueAxis=l.valueAxis,f&&(p&&u?(b.legendValueTextR=u,b.legendPeriodValueTextR=m):(g&&(b.legendValueTextR=g),b.legendPeriodValueTextR=v)),o.showComparedOnTop?o.graphs.push(b):o.graphs.unshift(b),this.comparedGraphs.push({graph:b,dataSet:D}))}}f&&(p&&u?(l.legendValueTextR=u,l.legendPeriodValueTextR=m):(g&&(l.legendValueTextR=g),l.legendPeriodValueTextR=v))}}}},passFields:function(t,e){for(var a="lineColor color alpha fillColors description bullet customBullet bulletSize bulletConfig url labelColor dashLength pattern gap className".split(" "),i=0;i<a.length;i++){var s=a[i];e[s+"Field"]=t[s+"Field"]}},choosePeriod:function(t,e,a){var i=this.categoryAxesSettings,s=i.groupToPeriods,r=s[t],o=s[t+1],n=O.extractPeriod(r),h=(n=O.getPeriodDuration(n.period,n.count),e.getTime()),l=a.getTime(),d=i.maxSeries;return i.alwaysGroup&&r==i.minPeriod&&(r=1<s.length?s[1]:s[0]),d<(l-h)/n&&0<d&&o?this.choosePeriod(t+1,e,a):r},getSelections:function(){var t,e=[],a=this.dataSets;for(t=0;t<a.length;t++){var i=a[t];i.compared&&e.push(i)}for(this.comparedDataSets=e,a=this.panels,t=0;t<a.length;t++)(i=a[t]).hideDrawingIcons&&("never"!=i.recalculateToPercents&&0<e.length?i.hideDrawingIcons(!0):i.drawingIconsEnabled&&i.hideDrawingIcons(!1))},addPanel:function(t){this.panels.push(t),this.prevPH=void 0,O.removeChart(t),O.addChart(t)},addPanelAt:function(t,e){this.panels.splice(e,0,t),this.prevPH=void 0,O.removeChart(t),O.addChart(t)},removePanel:function(t){var e,a=this.panels;for(this.prevPH=void 0,e=a.length-1;0<=e;e--)a[e]==t&&(this.fire({type:"panelRemoved",panel:t,chart:this}),a.splice(e,1),t.destroy(),t.clear())},validateData:function(t){var e=this;e.validateDataTO&&clearTimeout(e.validateDataTO),e.validateDataTO=setTimeout(function(){e.validateDataReal.call(e,t)},100)},validateDataReal:function(t){t||this.resetDataParsed(),this.updateDataSets(),this.mainDataSet.compared=!1,this.updateData(),(t=this.dataSetSelector)&&t.write(t.div)},resetDataParsed:function(){var t,e=this.dataSets;for(t=0;t<e.length;t++)e[t].dataParsed=!1},validateNow:function(t,e){this.skipDefault=!0,this.chartRendered=!1,this.prevPH=void 0,this.skipEvents=e,this.clear(!0),this.initTO&&clearTimeout(this.initTO),t&&this.resetDataParsed(),this.write(this.div)},hideStockEvents:function(){this.showHideEvents(!1),this.eventsHidden=!0},showStockEvents:function(){this.showHideEvents(!0),this.eventsHidden=!1},showHideEvents:function(t){var e,a=this.panels;for(e=0;e<a.length;e++){var i,s=a[e].graphs;for(i=0;i<s.length;i++){var r=s[i];!0===t?r.showCustomBullets(!0):r.hideCustomBullets(!0)}}},invalidateSize:function(){var t=this;clearTimeout(t.validateTO);var e=setTimeout(function(){t.validateNow()},5);t.validateTO=e},measure:function(){var t=this.div;if(t){var e=t.offsetWidth,a=t.offsetHeight;t.clientHeight&&(e=t.clientWidth,a=t.clientHeight),this.divRealWidth=e,this.divRealHeight=a}},handleResize:function(){var t=this,e=setTimeout(function(){t.validateSizeReal()},150);t.initTO=e},validateSizeReal:function(){this.previousWidth=this.divRealWidth,this.previousHeight=this.divRealHeight,this.measure(),this.divRealWidth==this.previousWidth&&this.divRealHeight==this.previousHeight||(0<this.divRealWidth&&0<this.divRealHeight&&this.fire({type:"resized",chart:this}),this.divRealHeight!=this.previousHeight&&this.validateNow())},clear:function(t){var e,a=this.panels;if(a)for(e=0;e<a.length;e++){var i=a[e];t||(i.cleanChart(),i.destroy()),i.clear(t)}(a=this.scrollbarChart)&&a.clear(),this.validateDataTO&&clearTimeout(this.validateDataTO),(a=this.div)&&(a.innerHTML=""),t||(O.removeChart(this),this.div=null,O.deleteObject(this))}}),O.StockEvent=O.Class({construct:function(){}})}(),function(){var t=window.AmCharts;t.DataSet=t.Class({construct:function(){this.cname="DataSet",this.fieldMappings=[],this.dataProvider=[],this.agregatedDataProviders=[],this.stockEvents=[],this.compared=!1,this.showInCompare=this.showInSelect=!0}})}(),function(){var u=window.AmCharts;u.PeriodSelector=u.Class({construct:function(t){this.cname="PeriodSelector",this.theme=t,this.createEvents("changed"),this.inputFieldsEnabled=!0,this.position="bottom",this.width=180,this.fromText="From: ",this.toText="to: ",this.periodsText="Zoom: ",this.accessibilityText="Select a timeframe to show chart data",this.periods=[],this.inputFieldWidth=100,this.dateFormat="DD-MM-YYYY",this.hideOutOfScopePeriods=!0,u.applyTheme(this,t,this.cname)},zoom:function(t,e){var a=this.chart;this.inputFieldsEnabled&&(this.startDateField.value=u.formatDate(t,this.dateFormat,a),this.endDateField.value=u.formatDate(e,this.dateFormat,a)),this.markButtonAsSelected()},write:function(t){var e=this,a=(p=e.chart).classNamePrefix;t.className="amChartsPeriodSelector "+a+"-period-selector-div";var i=e.width,s=e.position;e.width=void 0,e.position=void 0,u.applyStyles(t.style,e),e.width=i,e.position=s,(e.div=t).innerHTML='<fieldset style="border: none; padding:0"><legend style="display: none;">'+(p.langObj.periodSelectorAccessibilityText||e.accessibilityText)+"</legend></fieldset>";var r=t.firstChild;t=e.theme,i="top"!=(i=e.position)&&"bottom"!=i,e.vertical=i;var o=s=0;if(e.inputFieldsEnabled){var n=document.createElement("div");r.appendChild(n);var h=document.createTextNode(p.langObj.fromText||e.fromText);n.appendChild(h),i?u.addBr(n):(n.style.styleFloat="left",n.style.display="inline");var l=document.createElement("input");if(l.setAttribute("aria-label",p.langObj.fromText||e.fromText),l.className="amChartsInputField "+a+"-start-date-input",t&&u.applyStyles(l.style,t.PeriodInputField),l.style.textAlign="center",l.onblur=function(t){e.handleCalChange(t)},u.isNN&&l.addEventListener("keypress",function(t){e.handleCalendarChange.call(e,t)},!0),u.isIE&&l.attachEvent("onkeypress",function(t){e.handleCalendarChange.call(e,t)}),n.appendChild(l),e.startDateField=l,i)h=e.width-6+"px",u.addBr(n);else{h=e.inputFieldWidth+"px";var d=document.createTextNode(" ");n.appendChild(d)}l.style.width=h,l=document.createTextNode(p.langObj.toText||e.toText),n.appendChild(l),i&&u.addBr(n),(l=document.createElement("input")).setAttribute("aria-label",p.langObj.toText||e.toText),l.className="amChartsInputField "+a+"-end-date-input",t&&u.applyStyles(l.style,t.PeriodInputField),l.style.textAlign="center",l.onblur=function(){e.handleCalChange()},u.isNN&&l.addEventListener("keypress",function(t){e.handleCalendarChange.call(e,t)},!0),u.isIE&&l.attachEvent("onkeypress",function(t){e.handleCalendarChange.call(e,t)}),n.appendChild(l),e.endDateField=l,i?u.addBr(n):s=l.offsetHeight+2,h&&(l.style.width=h)}if(n=e.periods,u.ifArray(n)){h=document.createElement("div"),i||(h.style.cssFloat="right",h.style.styleFloat="right",h.style.display="inline"),r.appendChild(h),i&&u.addBr(h),p=document.createTextNode(p.langObj.periodsText||e.periodsText),h.appendChild(p),e.periodContainer=h;for(var c,p=0;p<n.length;p++)r=n[p],(c=document.createElement("input")).type="button",c.value=r.label,c.period=r.period,c.count=r.count,c.periodObj=r,c.className="amChartsButton "+a+"-period-input",t&&u.applyStyles(c.style,t.PeriodButton),i&&(c.style.width=e.width-1+"px"),c.style.boxSizing="border-box",h.appendChild(c),e.addEventListeners(c),r.button=c;!i&&c&&(o=c.offsetHeight)}e.offsetHeight=Math.max(s,o)},addEventListeners:function(t){var e=this;u.isNN&&t.addEventListener("click",function(t){e.handlePeriodChange.call(e,t)},!0),u.isIE&&t.attachEvent("onclick",function(t){e.handlePeriodChange.call(e,t)})},getPeriodDates:function(){var t,e=this.periods;for(t=0;t<e.length;t++)this.selectPeriodButton(e[t],!0)},handleCalendarChange:function(t){13==t.keyCode&&this.handleCalChange(t)},handleCalChange:function(t){var e=this.dateFormat,a=u.stringToDate(this.startDateField.value,e);e=this.chart.getLastDate(u.stringToDate(this.endDateField.value,e));try{this.startDateField.blur(),this.endDateField.blur()}catch(t){}if(a&&e){var i={type:"changed"};i.startDate=a,i.endDate=e,i.chart=this.chart,i.event=t,this.fire(i)}},handlePeriodChange:function(t){this.selectPeriodButton((t.srcElement?t.srcElement:t.target).periodObj,!1,t)},setRanges:function(t,e){this.firstDate=t,this.lastDate=e,this.getPeriodDates()},selectPeriodButton:function(t,e,a){var i,s,r,o=t.button,n=o.count,h=o.period,l=this.chart,d=this.firstDate,c=this.lastDate,p=this.theme;i=this.selectFromStart,d&&c&&("MAX"==h?(i=d,s=c):"YTD"==h?((i=new Date).setMonth(0,1),i.setHours(0,0,0,0),0===n&&i.setDate(i.getDate()-1),s=this.lastDate):"YYYY"==h||"MM"==h?i?(i=d,"YYYY"==h&&(n*=12),(s=new Date(d)).setMonth(s.getMonth()+n)):(i=new Date(c),"YYYY"==h&&(h="MM",n*=12),"MM"==h&&(i=u.resetDateToMin(i,"DD")),u.changeDate(i,h,n,!1),s=c):"fff"==h?(u.getPeriodDuration(h,n),r=u.getPeriodDuration(h,n),i?(i=d,s.setMilliseconds(d.getMilliseconds()-r+1)):((i=new Date(c.getTime())).setMilliseconds(i.getMilliseconds()-r+1),s=this.lastDate)):(r=u.getPeriodDuration(h,n),i?(i=d,s=new Date(d.getTime()+r-1)):(i=new Date(c.getTime()-r+1),s=c)),t.startTime=i.getTime(),this.hideOutOfScopePeriods&&(e&&t.startTime<d.getTime()?o.style.display="none":o.style.display="inline"),i.getTime()>c.getTime()&&(r=u.getPeriodDuration("DD",1),i=new Date(c.getTime()-r)),i.getTime()<d.getTime()&&(i=d),"YTD"==h&&(t.startTime=i.getTime(),c.getFullYear()<(new Date).getFullYear()&&(o.style.display="none")),t.endTime=s.getTime(),e||(this.skipMark=!0,this.unselectButtons(),o.className="amChartsButtonSelected "+l.classNamePrefix+"-period-input-selected",p&&u.applyStyles(o.style,p.PeriodButtonSelected),(t={type:"changed"}).startDate=i,t.endDate=s,t.predefinedPeriod=h,t.chart=this.chart,t.count=n,t.event=a,this.fire(t)))},markButtonAsSelected:function(){if(!this.skipMark){var t,e=this.chart,a=this.periods,i=e.startDate.getTime(),s=e.endDate.getTime(),r=this.lastDate.getTime();for(r<s&&(s=r),r=this.theme,this.unselectButtons(),t=a.length-1;0<=t;t--){var o=a[t],n=o.button;o.startTime&&o.endTime&&i==o.startTime&&s==o.endTime&&(this.unselectButtons(),n.className="amChartsButtonSelected "+e.classNamePrefix+"-period-input-selected",r&&u.applyStyles(n.style,r.PeriodButtonSelected))}}this.skipMark=!1},unselectButtons:function(){var t,e=this.chart,a=this.periods,i=this.theme;for(t=a.length-1;0<=t;t--){var s=a[t].button;s.className="amChartsButton "+e.classNamePrefix+"-period-input",i&&u.applyStyles(s.style,i.PeriodButton)}},setDefaultPeriod:function(){var t,e=this.periods;if(this.chart.chartCreated)for(t=0;t<e.length;t++){var a=e[t];a.selected&&this.selectPeriodButton(a)}}})}(),function(){var e=window.AmCharts;e.StockGraph=e.Class({inherits:e.AmGraph,construct:function(t){e.StockGraph.base.construct.call(this,t),this.cname="StockGraph",this.useDataSetColors=!0,this.periodValue="Close",this.compareGraphType="line",this.compareGraphVisibleInLegend=!0,this.comparable=this.resetTitleOnDataSetChange=!1,this.comparedGraphs={},this.showEventsOnComparedGraphs=!1,e.applyTheme(this,t,this.cname)}})}(),function(){var d=window.AmCharts;d.StockPanel=d.Class({inherits:d.AmSerialChart,construct:function(t){d.StockPanel.base.construct.call(this,t),this.cname="StockPanel",this.theme=t,this.showCategoryAxis=this.showComparedOnTop=!0,this.recalculateToPercents="whenComparing",this.panelHeaderPaddingBottom=this.panelHeaderPaddingLeft=this.panelHeaderPaddingRight=this.panelHeaderPaddingTop=0,this.trendLineAlpha=1,this.trendLineColor="#00CC00",this.trendLineColorHover="#CC0000",this.trendLineThickness=2,this.trendLineDashLength=0,this.stockGraphs=[],this.drawingIconsEnabled=!1,this.iconSize=38,this.autoMargins=this.allowTurningOff=this.eraseAll=this.erasingEnabled=this.drawingEnabled=!1,d.applyTheme(this,t,this.cname)},initChart:function(t){d.StockPanel.base.initChart.call(this,t),this.drawingIconsEnabled&&this.createDrawIcons(),(t=this.chartCursor)&&this.listenTo(t,"draw",this.handleDraw)},addStockGraph:function(t){return this.stockGraphs.push(t),t},handleCursorZoom:function(t){t.start=NaN,t.end=NaN,d.StockPanel.base.handleCursorZoom.call(this,t)},removeStockGraph:function(t){var e,a=this.stockGraphs;for(e=a.length-1;0<=e;e--)a[e]==t&&a.splice(e,1)},createDrawIcons:function(){var t=this,e=t.iconSize,a=t.container,i=t.pathToImages,s=t.realWidth-2*e-1-t.marginRight,r=d.rect(a,e,e,"#000",.005),o=d.rect(a,e,e,"#000",.005);o.translate(e+1,0);var n=a.image(i+"pencilIcon"+t.extension,0,0,e,e);d.setCN(t,n,"pencil"),t.pencilButton=n,o.setAttr("cursor","pointer"),r.setAttr("cursor","pointer"),r.mouseup(function(){t.handlePencilClick()});var h=a.image(i+"pencilIconH"+t.extension,0,0,e,e);d.setCN(t,h,"pencil-pushed"),t.pencilButtonPushed=h,t.drawingEnabled||h.hide();var l=a.image(i+"eraserIcon"+t.extension,e+1,0,e,e);d.setCN(t,l,"eraser"),t.eraserButton=l,o.mouseup(function(){t.handleEraserClick()}),r.touchend&&(r.touchend(function(){t.handlePencilClick()}),o.touchend(function(){t.handleEraserClick()})),e=a.image(i+"eraserIconH"+t.extension,e+1,0,e,e),d.setCN(t,e,"eraser-pushed"),t.eraserButtonPushed=e,t.erasingEnabled||e.hide(),a=a.set([n,h,l,e,r,o]),d.setCN(t,a,"drawing-tools"),a.translate(s,1),this.hideIcons&&a.hide()},handlePencilClick:function(){var t=!this.drawingEnabled;this.disableDrawing(!t),this.erasingEnabled=!1;var e=this.eraserButtonPushed;e&&e.hide(),e=this.pencilButtonPushed,t?e&&e.show():(e&&e.hide(),this.setMouseCursor("auto"))},disableDrawing:function(t){this.drawingEnabled=!t;var e=this.chartCursor;this.stockChart&&(this.stockChart.enableCursors(t),e&&e.enableDrawing(!t))},handleEraserClick:function(){if(this.disableDrawing(!0),(t=this.pencilButtonPushed)&&t.hide(),t=this.eraserButtonPushed,this.eraseAll){var t,e;for(e=(t=this.trendLines).length-1;0<=e;e--){var a=t[e];a.isProtected||this.removeTrendLine(a)}this.validateNow()}else(this.erasingEnabled=e=!this.erasingEnabled)?(t&&t.show(),this.setTrendColorHover(this.trendLineColorHover),this.setMouseCursor("auto")):(t&&t.hide(),this.setTrendColorHover())},setTrendColorHover:function(t){var e,a=this.trendLines;for(e=a.length-1;0<=e;e--){var i=a[e];i.isProtected||(i.rollOverColor=t),this.listenTo(i,"click",this.handleTrendClick)}},handleDraw:function(t){var e=this.drawOnAxis;d.isString(e)&&(e=this.getValueAxisById(e)),e||(e=this.valueAxes[0]),this.drawOnAxis=e;var a=this.categoryAxis,i=t.initialX,s=t.finalX,r=t.initialY;t=t.finalY;var o=new d.TrendLine(this.theme);o.initialDate=a.coordinateToDate(i),o.finalDate=a.coordinateToDate(s),o.initialValue=e.coordinateToValue(r),o.finalValue=e.coordinateToValue(t),o.lineAlpha=this.trendLineAlpha,o.lineColor=this.trendLineColor,o.lineThickness=this.trendLineThickness,o.dashLength=this.trendLineDashLength,o.valueAxis=e,o.categoryAxis=a,this.addTrendLine(o),this.listenTo(o,"click",this.handleTrendClick),this.validateNow()},hideDrawingIcons:function(t){(this.hideIcons=t)&&this.disableDrawing(t)},handleTrendClick:function(t){this.erasingEnabled&&(t=t.trendLine,this.eraseAll||t.isProtected||this.removeTrendLine(t),this.validateNow())},handleWheelReal:function(t,e){var a=this.scrollbarChart;if(!this.wheelBusy&&a){var i=1,s=1;if(this.mouseWheelZoomEnabled?e||(i=-1):e&&(i=-1),i!=s){var r=this.mouseX/this.plotAreaWidth;i=i*r,s=s*(1-r)}(a=a.chartScrollbar)&&(a.getPercents(),(r=.05*(a.percentEnd-a.percentStart))<.005&&(r=.005),t<0?(i=a.percentStart+i*r,s=a.percentEnd+s*r):(i=a.percentStart-i*r,s=a.percentEnd-s*r),i<s&&a.percentZoom(i,s,!0))}}})}(),function(){var e=window.AmCharts;e.CategoryAxesSettings=e.Class({construct:function(t){this.cname="CategoryAxesSettings",this.minPeriod="DD",this.equalSpacing=!1,this.axisHeight=28,this.tickLength=this.axisAlpha=0,this.gridCount=10,this.maxSeries=150,this.groupToPeriods="ss 10ss 30ss mm 10mm 30mm hh DD WW MM YYYY".split(" "),this.markPeriodChange=this.autoGridCount=!0,e.applyTheme(this,t,this.cname)}})}(),function(){var e=window.AmCharts;e.ChartCursorSettings=e.Class({construct:function(t){this.cname="ChartCursorSettings",this.enabled=!0,this.bulletsEnabled=this.valueBalloonsEnabled=!1,this.graphBulletSize=1,this.onePanelOnly=!1,this.categoryBalloonDateFormats=[{period:"YYYY",format:"YYYY"},{period:"MM",format:"MMM, YYYY"},{period:"WW",format:"MMM DD, YYYY"},{period:"DD",format:"MMM DD, YYYY"},{period:"hh",format:"JJ:NN"},{period:"mm",format:"JJ:NN"},{period:"ss",format:"JJ:NN:SS"},{period:"fff",format:"JJ:NN:SS"}],e.applyTheme(this,t,this.cname)},categoryBalloonDateFormat:function(t){var e,a,i=this.categoryBalloonDateFormats;for(a=0;a<i.length;a++)i[a].period==t&&(e=i[a].format);return e}})}(),function(){var e=window.AmCharts;e.ChartScrollbarSettings=e.Class({construct:function(t){this.cname="ChartScrollbarSettings",this.height=40,this.enabled=!0,this.color="#FFFFFF",this.updateOnReleaseOnly=this.autoGridCount=!0,this.hideResizeGrips=!1,this.position="bottom",this.minDistance=1,e.applyTheme(this,t,this.cname)}})}(),function(){var e=window.AmCharts;e.LegendSettings=e.Class({construct:function(t){this.cname="LegendSettings",this.marginBottom=this.marginTop=0,this.usePositiveNegativeOnPercentsOnly=!0,this.positiveValueColor="#00CC00",this.negativeValueColor="#CC0000",this.autoMargins=this.equalWidths=this.textClickEnabled=!1,e.applyTheme(this,t,this.cname)}})}(),function(){var e=window.AmCharts;e.PanelsSettings=e.Class({construct:function(t){this.cname="PanelsSettings",this.marginBottom=this.marginTop=this.marginRight=this.marginLeft=0,this.backgroundColor="#FFFFFF",this.backgroundAlpha=0,this.panelSpacing=8,this.panEventsEnabled=!0,this.creditsPosition="top-right",this.svgIcons=this.zoomOutAxes=!0,e.applyTheme(this,t,this.cname)}})}(),function(){var e=window.AmCharts;e.StockEventsSettings=e.Class({construct:function(t){this.cname="StockEventsSettings",this.type="sign",this.backgroundAlpha=1,this.backgroundColor="#DADADA",this.borderAlpha=1,this.borderColor="#888888",this.balloonColor=this.rollOverColor="#CC0000",e.applyTheme(this,t,this.cname)}})}(),function(){var e=window.AmCharts;e.ValueAxesSettings=e.Class({construct:function(t){this.cname="ValueAxesSettings",this.tickLength=0,this.showFirstLabel=this.autoGridCount=this.inside=!0,this.showLastLabel=!1,this.axisAlpha=0,e.applyTheme(this,t,this.cname)}})}(),function(){var t=window.AmCharts;t.getItemIndex=function(t,e){var a,i=-1;for(a=0;a<e.length;a++)t==e[a]&&(i=a);return i},t.addBr=function(t){t.appendChild(document.createElement("br"))},t.applyStyles=function(t,e){if(e&&t)for(var a in t){var i=a,s=e[i];if(void 0!==s)try{t[i]=s}catch(t){}}}}(),function(){var s=window.AmCharts;s.StockLegend=s.Class({inherits:s.AmLegend,construct:function(t){s.StockLegend.base.construct.call(this,t),this.cname="StockLegend",this.valueTextComparing="[[percents.value]]%",this.valueTextRegular="[[value]]",s.applyTheme(this,t,this.cname)},drawLegend:function(){var t=this;if(s.StockLegend.base.drawLegend.call(t),(e=t.chart).allowTurningOff){var e,a=t.container,i=a.image(e.pathToImages+"xIcon"+e.extension,e.realWidth-19,3,19,19);(e=a.image(e.pathToImages+"xIconH"+e.extension,e.realWidth-19,3,19,19)).hide(),t.xButtonHover=e,i.mouseup(function(){t.handleXClick()}).mouseover(function(){t.handleXOver()}),e.mouseup(function(){t.handleXClick()}).mouseout(function(){t.handleXOut()})}},handleXOver:function(){this.xButtonHover.show()},handleXOut:function(){this.xButtonHover.hide()},handleXClick:function(){var t=this.chart,e=t.stockChart;e.removePanel(t),e.validateNow()}})}(),function(){var c=window.AmCharts;c.DataSetSelector=c.Class({construct:function(t){this.cname="DataSetSelector",this.theme=t,this.createEvents("dataSetSelected","dataSetCompared","dataSetUncompared"),this.position="left",this.selectText="Select:",this.comboBoxSelectText="Select...",this.compareText="Compare to:",this.width=180,this.dataProvider=[],this.listHeight=150,this.listCheckBoxSize=14,this.rollOverBackgroundColor="#b2e1ff",this.selectedBackgroundColor="#7fceff",c.applyTheme(this,t,this.cname)},write:function(t){var e,a=this,i=a.theme,s=a.chart;t.className="amChartsDataSetSelector "+s.classNamePrefix+"-data-set-selector-div";var r,o,n=a.width;e=a.position,a.width=void 0,a.position=void 0,c.applyStyles(t.style,a),a.div=t,a.width=n,a.position=e,t.innerHTML="",r="top"!=(n=a.position)&&"bottom"!=n,(a.vertical=r)&&(o=a.width+"px");var h,l;n=a.dataProvider;if(1<a.countDataSets("showInSelect")){e=document.createTextNode(s.langObj.selectText||a.selectText),t.appendChild(e),r&&c.addBr(t);var d=document.createElement("select");for(o&&(d.style.width=o),a.selectCB=d,i&&c.applyStyles(d.style,i.DataSetSelect),d.className=s.classNamePrefix+"-data-set-select",t.appendChild(d),c.isNN&&d.addEventListener("change",function(t){a.handleDataSetChange.call(a,t)},!0),c.isIE&&d.attachEvent("onchange",function(t){a.handleDataSetChange.call(a,t)}),e=0;e<n.length;e++)if(!0===(h=n[e]).showInSelect){(l=document.createElement("option")).className=s.classNamePrefix+"-data-set-select-option",l.text=h.title,l.value=e,h==a.chart.mainDataSet&&(l.selected=!0);try{d.add(l,null)}catch(t){d.add(l)}}a.offsetHeight=d.offsetHeight}if(0<a.countDataSets("showInCompare")&&1<n.length)if(r?(c.addBr(t),c.addBr(t)):(e=document.createTextNode(" "),t.appendChild(e)),e=document.createTextNode(s.langObj.compareText||a.compareText),t.appendChild(e),l=a.listCheckBoxSize,r){for(c.addBr(t),o=document.createElement("div"),t.appendChild(o),o.className="amChartsCompareList "+s.classNamePrefix+"-compare-div",i&&c.applyStyles(o.style,i.DataSetCompareList),o.style.overflow="auto",o.style.overflowX="hidden",o.style.width=a.width-2+"px",o.style.maxHeight=a.listHeight+"px",e=0;e<n.length;e++)!0===(h=n[e]).showInCompare&&h!=a.chart.mainDataSet&&((i=document.createElement("div")).style.padding="4px",i.style.position="relative",i.name="amCBContainer",i.className=s.classNamePrefix+"-compare-item-div",i.dataSet=h,i.style.height=l+"px",h.compared&&(i.style.backgroundColor=a.selectedBackgroundColor),o.appendChild(i),(r=document.createElement("div")).style.width=l+"px",r.style.height=l+"px",r.style.position="absolute",r.style.backgroundColor=h.color,i.appendChild(r),(r=document.createElement("div")).style.width="100%",r.style.position="absolute",r.style.left=l+10+"px",i.appendChild(r),h=document.createTextNode(h.title),r.style.whiteSpace="nowrap",r.style.cursor="default",r.appendChild(h),a.addEventListeners(i));c.addBr(t),c.addBr(t)}else{i=document.createElement("select"),a.compareCB=i,o&&(i.style.width=o),t.appendChild(i),c.isNN&&i.addEventListener("change",function(t){a.handleCBSelect.call(a,t)},!0),c.isIE&&i.attachEvent("onchange",function(t){a.handleCBSelect.call(a,t)}),(l=document.createElement("option")).text=s.langObj.comboBoxSelectText||a.comboBoxSelectText;try{i.add(l,null)}catch(t){i.add(l)}for(e=0;e<n.length;e++)if(!0===(h=n[e]).showInCompare&&h!=a.chart.mainDataSet){(l=document.createElement("option")).text=h.title,l.value=e,h.compared&&(l.selected=!0);try{i.add(l,null)}catch(t){i.add(l)}}a.offsetHeight=i.offsetHeight}},addEventListeners:function(t){var e=this;c.isNN&&(t.addEventListener("mouseover",function(t){e.handleRollOver.call(e,t)},!0),t.addEventListener("mouseout",function(t){e.handleRollOut.call(e,t)},!0),t.addEventListener("click",function(t){e.handleClick.call(e,t)},!0)),c.isIE&&(t.attachEvent("onmouseout",function(t){e.handleRollOut.call(e,t)}),t.attachEvent("onmouseover",function(t){e.handleRollOver.call(e,t)}),t.attachEvent("onclick",function(t){e.handleClick.call(e,t)}))},handleDataSetChange:function(){var t=this.selectCB,e=(t=this.dataProvider[t.options[t.selectedIndex].value],this.chart);e.mainDataSet=t,e.zoomOutOnDataSetChange&&(e.startDate=void 0,e.endDate=void 0),e.validateData(!0),this.fire({type:"dataSetSelected",dataSet:t,chart:this.chart})},handleRollOver:function(t){(t=this.getRealDiv(t)).dataSet.compared||(t.style.backgroundColor=this.rollOverBackgroundColor)},handleRollOut:function(t){(t=this.getRealDiv(t)).dataSet.compared||(t.style.removeProperty&&t.style.removeProperty("background-color"),t.style.removeAttribute&&t.style.removeAttribute("backgroundColor"))},handleCBSelect:function(t){var e,a,i=this.compareCB,s=this.dataProvider;for(e=0;e<s.length;e++)(a=s[e]).compared&&(t={type:"dataSetUncompared",dataSet:a}),a.compared=!1;0<(s=i.selectedIndex)&&((a=this.dataProvider[i.options[s].value]).compared||(t={type:"dataSetCompared",dataSet:a}),a.compared=!0),(i=this.chart).validateData(!0),t.chart=i,this.fire(t)},handleClick:function(t){!0===(t=this.getRealDiv(t).dataSet).compared?(t.compared=!1,t={type:"dataSetUncompared",dataSet:t}):(t.compared=!0,t={type:"dataSetCompared",dataSet:t});var e=this.chart;e.validateData(!0),t.chart=e,this.fire(t)},getRealDiv:function(t){return t||(t=window.event),"amCBContainer"==(t=t.currentTarget?t.currentTarget:t.srcElement).parentNode.name&&(t=t.parentNode),t},countDataSets:function(t){var e,a=this.dataProvider,i=0;for(e=0;e<a.length;e++)!0===a[e][t]&&i++;return i}})}(),function(){var v=window.AmCharts;v.StackedBullet=v.Class({construct:function(){this.stackDown=!1,this.mastHeight=8,this.shapes=[],this.backgroundColors=[],this.backgroundAlphas=[],this.borderAlphas=[],this.borderColors=[],this.colors=[],this.rollOverColors=[],this.showOnAxiss=[],this.values=[],this.showAts=[],this.textColor="#000000",this.nextY=0,this.size=16},parseConfig:function(){var t=this.bulletConfig;this.eventObjects=t.eventObjects,this.letters=t.letters,this.shapes=t.shapes,this.backgroundColors=t.backgroundColors,this.backgroundAlphas=t.backgroundAlphas,this.borderColors=t.borderColors,this.borderAlphas=t.borderAlphas,this.colors=t.colors,this.rollOverColors=t.rollOverColors,this.date=t.date,this.showOnAxiss=t.showOnAxis,this.axisCoordinate=t.minCoord,this.showAts=t.showAts,this.values=t.values,this.fontSizes=t.fontSizes,this.showBullets=t.showBullets},write:function(t){if(this.parseConfig(),this.container=t,this.bullets=[],this.fontSize=this.chart.fontSize,this.graph){var e=this.graph.fontSize;e&&(this.fontSize=e)}var a;for(e=this.letters.length,(this.mastHeight+2*(this.fontSize/2+2))*e>this.availableSpace&&(this.stackDown=!0),this.set=t.set(),this.cset=t.set(),this.set.push(this.cset),this.set.doNotScale=!0,a=t=0;a<e;a++){this.shape=this.shapes[a],this.backgroundColor=this.backgroundColors[a],this.backgroundAlpha=this.backgroundAlphas[a],this.borderAlpha=this.borderAlphas[a],this.borderColor=this.borderColors[a],this.rollOverColor=this.rollOverColors[a],this.showOnAxis=this.showOnAxiss[a],this.showBullet=this.showBullets[a],this.color=this.colors[a],this.value=this.values[a],this.showAt=this.showAts[a];var i=this.fontSizes[a];isNaN(i)||(this.fontSize=i),this.addLetter(this.letters[a],t,a),this.showOnAxis||t++}},addLetter:function(t,e,a){e=(m=this.container).set();var i=-1,s=this.stackDown,r=this.graph.valueAxis;this.showOnAxis&&(this.stackDown=!!r.reversed),this.stackDown&&(i=1);var o,n=0,h=0,l=0,d=this.fontSize,c=this.mastHeight,p=this.shape,u=this.textColor;void 0!==this.color&&(u=this.color),void 0===t&&(t=""),t=v.fixBrakes(t),(t=v.text(m,t,u,this.chart.fontFamily,this.fontSize)).node.style.pointerEvents="none",m=t.getBBox(),this.labelWidth=u=m.width,this.labelHeight=m.height;var g,m=0;switch(p){case"sign":g=this.drawSign(e),n=c+4+d/2,m=c+d+4,1==i&&(n-=4);break;case"flag":g=this.drawFlag(e),h=u/2+3,n=c+4+d/2,m=c+d+4,1==i&&(n-=4);break;case"pin":g=this.drawPin(e),n=6+d/2,m=d+8;break;case"triangleUp":g=this.drawTriangleUp(e),n=-d-1,m=d+4,i=-1;break;case"triangleDown":g=this.drawTriangleDown(e),n=d+1,m=d+4,i=-1;break;case"triangleLeft":g=this.drawTriangleLeft(e),m=(h=d)+4,i=-1;break;case"triangleRight":g=this.drawTriangleRight(e),h=-d,i=-1,m=d+4;break;case"arrowUp":g=this.drawArrowUp(e),t.hide();break;case"arrowDown":g=this.drawArrowDown(e),t.hide(),m=d+4;break;case"text":i=-1,g=this.drawTextBackground(e,t),n=this.labelHeight+3,m=d+10;break;case"round":g=this.drawCircle(e)}this.bullets[a]=g,this.showOnAxis?(o=isNaN(this.nextAxisY)?this.axisCoordinate:this.nextY,l=n*i,this.nextAxisY=o+i*m):this.value?(o=this.value,r.recalculateToPercents&&(o=o/r.recBaseValue*100-100),o=r.getCoordinate(o)-this.bulletY,l=n*i):this.showAt?(g=this.graphDataItem.values,r.recalculateToPercents&&(g=this.graphDataItem.percents),g&&(o=r.getCoordinate(g[this.showAt])-this.bulletY,l=n*i)):(o=this.nextY,l=n*i),t.translate(h,l),e.push(t),e.translate(0,o),this.addEventListeners(e,a),this.nextY=o+i*m,this.stackDown=s},addEventListeners:function(t,e){var a=this;t.click(function(){a.handleClick(e)}).mouseover(function(){a.handleMouseOver(e)}).touchend(function(){a.handleMouseOver(e,!0),a.handleClick(e),setTimeout(function(){a.handleMouseOut.call(a,e)},200)}).mouseout(function(){a.handleMouseOut(e)}).touchstart(function(){a.handleMouseOver(e)})},drawPin:function(t){var e=-1;this.stackDown&&(e=1);var a=this.fontSize+4;return this.drawRealPolygon(t,[0,a/2,a/2,-a/2,-a/2,0],[0,e*a/4,e*(a+a/4),e*(a+a/4),e*a/4,0])},drawSign:function(t){var e=-1;this.stackDown&&(e=1);var a=this.mastHeight*e,i=this.fontSize/2+2,s=v.line(this.container,[0,0],[0,a],this.borderColor,this.borderAlpha,1),r=v.circle(this.container,i,this.backgroundColor,this.backgroundAlpha,1,this.borderColor,this.borderAlpha);return r.translate(0,a+i*e),t.push(s),t.push(r),this.cset.push(t),r},drawFlag:function(t){var e=-1;this.stackDown&&(e=1);var a=this.fontSize+4,i=this.labelWidth+6,s=this.mastHeight;e=1==e?e*s:e*s-a,s=v.line(this.container,[0,0],[0,e],this.borderColor,this.borderAlpha,1);return(a=v.polygon(this.container,[0,i,i,0],[0,0,a,a],this.backgroundColor,this.backgroundAlpha,1,this.borderColor,this.borderAlpha)).translate(0,e),t.push(s),t.push(a),this.cset.push(t),a},drawTriangleUp:function(t){var e=this.fontSize+7;return this.drawRealPolygon(t,[0,e/2,-e/2,0],[0,e,e,0])},drawArrowUp:function(t){var e=this.size,a=e/2,i=e/4;return this.drawRealPolygon(t,[0,a,i,i,-i,-i,-a,0],[0,a,a,e,e,a,a,0])},drawArrowDown:function(t){var e=this.size,a=e/2,i=e/4;return this.drawRealPolygon(t,[0,a,i,i,-i,-i,-a,0],[0,-a,-a,-e,-e,-a,-a,0])},drawTriangleDown:function(t){var e=this.fontSize+7;return this.drawRealPolygon(t,[0,e/2,-e/2,0],[0,-e,-e,0])},drawTriangleLeft:function(t){var e=this.fontSize+7;return this.drawRealPolygon(t,[0,e,e,0],[0,-e/2,e/2,0])},drawTriangleRight:function(t){var e=this.fontSize+7;return this.drawRealPolygon(t,[0,-e,-e,0],[0,-e/2,e/2,0])},drawRealPolygon:function(t,e,a){return e=v.polygon(this.container,e,a,this.backgroundColor,this.backgroundAlpha,1,this.borderColor,this.borderAlpha),t.push(e),this.cset.push(t),e},drawCircle:function(t){var e=v.circle(this.container,this.fontSize/2,this.backgroundColor,this.backgroundAlpha,1,this.borderColor,this.borderAlpha);return t.push(e),this.cset.push(t),e},drawTextBackground:function(t,e){var a=-(s=e.getBBox()).width/2-5,i=s.width/2+5,s=-s.height-12;return this.drawRealPolygon(t,[a,-5,0,5,i,i,a,a],[-5,-5,0,-5,-5,s,s,-5])},handleMouseOver:function(t,e){e||this.bullets[t].attr({fill:this.rollOverColors[t]});var a=this.eventObjects[t],i={type:"rollOverStockEvent",eventObject:a,graph:this.graph,date:this.date},s=this.bulletConfig.eventDispatcher;for((i.chart=s).fire(i),a.url&&this.bullets[t].setAttr("cursor","pointer"),(i=this.chart).showBalloon(v.fixNewLines(a.description),s.stockEventsSettings.balloonColor,!0),a=i.graphs,s=0;s<a.length;s++)a[s].hideBalloon()},handleClick:function(t){var e={type:"clickStockEvent",eventObject:t=this.eventObjects[t],graph:this.graph,date:this.date},a=this.bulletConfig.eventDispatcher;(e.chart=a).fire(e),(e=t.urlTarget)||(e=a.stockEventsSettings.urlTarget),v.getURL(t.url,e)},handleMouseOut:function(t){this.bullets[t].attr({fill:this.backgroundColors[t]}),t={type:"rollOutStockEvent",eventObject:this.eventObjects[t],graph:this.graph,date:this.date};var e=this.bulletConfig.eventDispatcher;t.chart=e,this.chart.hideBalloonReal(),e.fire(t)}})}();