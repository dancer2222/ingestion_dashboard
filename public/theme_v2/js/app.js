$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},url:location.origin});var Audiobook={setStatus:function(t){var n=this,o=t.value,a=t.dataset.audiobookId;n.statusPanelToggle(),$.ajax({url:$.ajaxSettings.url+"/web/content/audiobooks/status",method:"post",data:{id:a,status:o},success:function(t){n.statusPanelToggle(!t.result)},error:function(t){console.log(t),n.statusPanelToggle(!0)}})},statusPanelToggle:function(t){var n=$("#status_panel"),o=n.find("#status_active"),a=n.find("#status_inactive");t&&(o.prop("checked")?a.prop("checked",!0):o.prop("checked",!0));var e=n.find("input");e.prop("disabled",!e.prop("disabled"))}};function redirect(t){console.log(t),location.replace(location.origin+location.pathname+t)}function changeDbConnection(n){$.ajax({url:$.ajaxSettings.url+"/changeDbConnection",method:"post",data:{connectionName:n},success:function(t){t===n&&($("#db-dropdown").text(n),$(".defaultDatabase").text(n),$.notify({message:"Database connection was changed to: <b>"+t+"</b>"}))},error:function(t){console.log(t),$.notify({message:t.responseText+". Code: "+t.status},{type:"danger"})}})}$(document).ready(function(){$('[data-toggle="popover"]').popover(),$(".change-db").on("click",function(){changeDbConnection($(this).text())}),$("[type=submit]").on("click",function(){$("body").css({cursor:"progress"})}),$("#password-changing-enable").on("click",function(){$("input#password").attr("disabled",!1),$("input#password_confirmation").attr("disabled",!1)}),$(".tool-option-from-file").on("click",function(t){t.preventDefault();var n=$(this).data("triggerFile");return n&&$("#"+n).trigger("click"),!1}),$(".options_file_input").on("change",function(t){t.preventDefault();var n=this,o=$(this).data("url");if(!o)return!1;var a=new FormData;if(n.files.length<1)return!1;a.append("optionData",n.files[0]);var e=$(n).closest("form").find("#option-"+n.dataset.optionName);return $.ajax({url:o,method:"post",processData:!1,contentType:!1,data:a,success:function(t){e.val(t.data),n.value=null},error:function(t){console.log(t),n.value=null}}),!1}),$(".aws-notifications button#reset").on("click",function(t){t.preventDefault();var n=$(".aws-notifications form"),o=n.find('input[name="from_date"]'),a=n.find('input[name="to_date"]'),e=n.find('select[name="bucket"]');o.val(""),a.val(""),e.val(""),n.find('button[type="submit"]').click()}),$(".aws-notifications .pagination li.page-item a.page-link").on("click",function(t){t.preventDefault();var n=$(".aws-notifications form"),o=n.find('input[name="page"]'),a=$(this).text();return o.val(a),n.find('button[type="submit"]').click(),!1}),$(".audiobook_status_change").on("change",Audiobook.setStatus)});